# 🚗 자동차 판매량 데이터 수집 및 시각화 시스템

네이버 검색 결과에서 자동차 판매량 데이터를 수집하고, 웹 기반 대시보드로 시각화하는 완전한 시스템입니다.

## 📋 목차

- [기능 소개](#-기능-소개)
- [프로젝트 구조](#-프로젝트-구조)
- [설치 및 실행](#-설치-및-실행)
- [사용 방법](#-사용-방법)
- [데이터베이스 스키마](#-데이터베이스-스키마)
- [API 문서](#-api-문서)
- [기술 스택](#-기술-스택)

## ✨ 기능 소개

### 🔍 데이터 수집
- **네이버 검색 기반 크롤링**: 연도/월별 자동차 판매량 데이터 자동 수집
- **전체 페이지 수집**: 페이지네이션을 통한 모든 페이지 데이터 수집
- **중복 제거**: 동일 차량의 중복 데이터 자동 제거
- **실시간 저장**: SQLite 데이터베이스에 즉시 저장

### 📊 웹 시각화
- **실시간 대시보드**: 데이터베이스에서 실시간 데이터 조회
- **동적 차트**: Chart.js 기반 인터랙티브 차트
- **필터링 시스템**: 연도, 브랜드, 모델별 실시간 필터링
- **반응형 디자인**: 모바일/데스크톱 지원

### 🎯 주요 차트
- **연도별 총 판매량**: 전체 브랜드 또는 특정 브랜드별 연도 트렌드
- **브랜드별 판매량**: 특정 연도의 브랜드별 판매량 비교
- **모델별 판매량**: 특정 브랜드의 모델별 상세 분석
- **월별 트렌드**: 월별 판매량 변화 추이

## 📁 프로젝트 구조

```
car_sales_data/
├── app.py                 # Flask 웹 서버
├── car_sales_crawler.py   # 데이터 수집 크롤러
├── database_setup.py      # 데이터베이스 초기 설정
├── export_data.py         # JSON 내보내기 (레거시)
├── requirements.txt       # Python 의존성
├── car_sales.db          # SQLite 데이터베이스
├── templates/
│   └── index.html        # 웹 대시보드
└── README.md             # 프로젝트 문서
```

## 🚀 설치 및 실행

### 1. 의존성 설치

```bash
pip install -r requirements.txt
```

### 2. 데이터베이스 초기화

```bash
python database_setup.py
```

### 3. 웹 서버 실행

```bash
python app.py
```

### 4. 웹 브라우저 접속

```
http://localhost:5000
```

## 📖 사용 방법

### 데이터 수집

1. **크롤러 실행**:
   ```bash
   python car_sales_crawler.py
   ```

2. **연도 범위 입력**:
   - 시작 연도 입력 (예: 2022)
   - 끝 연도 입력 (예: 2025)

3. **자동 수집**:
   - 지정된 연도 범위의 모든 월별 데이터 자동 수집
   - 전체 페이지의 데이터 수집
   - 실시간 진행 상황 표시

### 웹 시각화

1. **메인 대시보드**: 전체 통계 및 차트 확인
2. **필터링**: 연도, 브랜드, 모델 선택
3. **동적 차트**: 필터에 따른 실시간 차트 업데이트
4. **데이터 테이블**: 상세 데이터 확인

## 🗄️ 데이터베이스 스키마

### car_sales 테이블

| 필드명 | 타입 | 설명 |
|--------|------|------|
| id | INTEGER | 자동 증가 기본키 |
| car_name | TEXT | 차량명 |
| sales_count | INTEGER | 판매량 |
| rank_position | INTEGER | 순위 |
| category | TEXT | 카테고리 |
| year | INTEGER | 연도 |
| month | INTEGER | 월 |
| collected_at | TEXT | 수집 시간 |

## 🔌 API 문서

### 전체 데이터 조회
```
GET /api/data
```
- 모든 차량 판매량 데이터 조회
- 통계 정보 포함

### 필터링된 데이터 조회
```
GET /api/filter?year=2025&brand=현대&model=아반떼
```
- 연도, 브랜드, 모델별 필터링
- 실시간 필터링 지원

### 통계 데이터 조회
```
GET /api/stats?year=2025&brand=현대
```
- 필터된 데이터의 통계 정보
- 총 데이터 수, 연도 수, 브랜드 수, 총 판매량

## 🛠️ 기술 스택

### 백엔드
- **Python 3.8+**: 메인 프로그래밍 언어
- **Flask**: 웹 프레임워크
- **SQLite**: 데이터베이스
- **BeautifulSoup4**: HTML 파싱
- **Requests**: HTTP 요청

### 프론트엔드
- **HTML5/CSS3**: 웹 인터페이스
- **JavaScript (ES6+)**: 동적 기능
- **Chart.js**: 데이터 시각화
- **반응형 CSS**: 모바일 지원

### 데이터 수집
- **네이버 검색 API**: 데이터 소스
- **페이지네이션 처리**: 전체 페이지 수집
- **중복 제거**: 데이터 정제

## ⚡ 성능 최적화

### 크롤링 속도
- **페이지 간 대기**: 0.1초 (정적 크롤링 최적화)
- **월별 수집 대기**: 0.5초 (서버 부하 방지)
- **전체 페이지 수집**: 페이지네이션 자동 감지

### 웹 성능
- **실시간 API**: 데이터베이스 직접 조회
- **동적 필터링**: 서버 사이드 필터링
- **캐싱**: 브라우저 캐시 활용

## 🔧 고급 기능

### 동적 차트 시스템
- **브랜드 전체 선택**: 전체 브랜드 연도별 트렌드
- **특정 브랜드 선택**: 해당 브랜드 모델별 분석
- **연도 + 브랜드 선택**: 모델별 상세 분석

### 필터링 시스템
- **연도 필터**: 특정 연도 데이터만 표시
- **브랜드 필터**: 특정 브랜드 데이터만 표시
- **모델 선택**: 연도+브랜드 선택 시 모델 드롭다운
- **실시간 검색**: 차량명 검색 기능

## 📊 데이터 예시

### 수집된 데이터
```
1위: 현대 아반떼 - 15,234대 (준중형)
2위: 기아 K5 - 12,567대 (중형)
3위: 현대 그랜저 - 11,890대 (대형)
...
```

### 차트 예시
- **연도별 트렌드**: 2022년~2025년 판매량 변화
- **브랜드별 비교**: 현대, 기아, BMW, 벤츠 등
- **모델별 분석**: 아반떼, K5, 그랜저 등

## 🚨 주의사항

1. **네이버 정책 준수**: 과도한 요청 방지
2. **데이터 정확성**: 네이버 검색 결과 기반
3. **개발 서버**: 프로덕션 배포 시 WSGI 서버 사용
4. **데이터 백업**: 정기적인 데이터베이스 백업 권장

## 🤝 기여하기

1. Fork the repository
2. Create your feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 📞 문의

프로젝트 관련 문의사항이 있으시면 이슈를 생성해 주세요.

---

**🚗 자동차 판매량 데이터 수집 및 시각화 시스템** - 네이버 검색 기반 실시간 데이터 분석 플랫폼 